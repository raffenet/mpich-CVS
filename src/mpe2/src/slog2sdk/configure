#! /bin/sh

# Guess values for system-dependent variables and create Makefiles.
# Generated automatically using autoconf version 2.13 
# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
#
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.

# Defaults:
ac_help=
ac_default_prefix=/usr/local
# Any additions from configure.in:
ac_help="$ac_help
--enable-echo                      - Turn on strong echoing.  The default 
                                     is enable=no. "
ac_help="$ac_help
--enable-softerror                 - Turn on soft error, i.e. instead of 
                                     issuing MSG_ERROR, MSG_WARN + exit 0 
                                     are used.  The default is enable=no."
ac_help="$ac_help
--enable-swingcheck                - Turn on the Swing checking code. 
                                     The default is enable=yes"
ac_help="$ac_help
--enable-jdb                       - Turn on the use of jdb to run the GUI.
                                     The default is enable=no"
ac_help="$ac_help
--with-java=JRE_TOPDIR             - The path of the top-level directory of 
                                     the Java installation.  If this option 
                                     or with-java2 is not given, configure
                                     will try to locate java for you.  Also, 
                                     with-java2 option overwrites the 
                                     with-java option to set JRE_TOPDIR."
ac_help="$ac_help
--with-java2=JRE_TOPDIR            - The path of the top-level directory of 
                                     the Java installation.  If this option 
                                     or with-java is not given, configure will
                                     try to locate java for you.  Also, 
                                     with-java2 option overwrites the 
                                     with-java option to set JRE_TOPDIR."
ac_help="$ac_help
--with-jvmflags=JVMFLAGS           - supply java virtual machine flags, e.g. 
                                     -Xms32m -Xmx256m."
ac_help="$ac_help
--with-trace-libdir=TRACE_LIBDIR   - The path to the user-defined
                                     TRACE-API shared library, i.e.
                                     libTraceInput.so/TraceInput.dll.
                                     This option creates 2 extra utility 
                                     programs: traceprint and traceTOslog2."
ac_help="$ac_help
--with-trace-name=TRACE_NAME       - The new name prefix that replaces 
                                     the word trace in the utility programs
                                     traceprint and traceTOslog2."
ac_help="$ac_help
--enable-build                     - Build the jar files from the java source
                                     and the sample TRACE-API implementation.
                                     Java Standard Development Kit, SDK,
                                     is needed.  The default is enable=yes."
ac_help="$ac_help
--enable-source                    - Build the jar files from the java source.
                                     Java Standard Development Kit, SDK,
                                     is needed.  The default is enable=yes."
ac_help="$ac_help
--enable-sample                    - Build sample TRACE-API implementation.
                                     Java Standard Development Kit, SDK,
                                     is needed.  The default is enable=yes."
ac_help="$ac_help
--enable-rlog                      - Build RLOG TRACE-API implementation.
                                     Java Standard Development Kit, SDK,
                                     is needed.  The default is enable=yes."

# Initialize some variables set by options.
# The variables have the same names as the options, with
# dashes changed to underlines.
build=NONE
cache_file=./config.cache
exec_prefix=NONE
host=NONE
no_create=
nonopt=NONE
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
target=NONE
verbose=
x_includes=NONE
x_libraries=NONE
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datadir='${prefix}/share'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
libdir='${exec_prefix}/lib'
includedir='${prefix}/include'
oldincludedir='/usr/include'
infodir='${prefix}/info'
mandir='${prefix}/man'

# Initialize some other variables.
subdirs=
MFLAGS= MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12

ac_prev=
for ac_option
do

  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval "$ac_prev=\$ac_option"
    ac_prev=
    continue
  fi

  case "$ac_option" in
  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) ac_optarg= ;;
  esac

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case "$ac_option" in

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir="$ac_optarg" ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build="$ac_optarg" ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file="$ac_optarg" ;;

  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
  | --da=*)
    datadir="$ac_optarg" ;;

  -disable-* | --disable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    eval "enable_${ac_feature}=no" ;;

  -enable-* | --enable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "enable_${ac_feature}='$ac_optarg'" ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix="$ac_optarg" ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he)
    # Omit some internal or obsolete options to make the list less imposing.
    # This message is too long to be a string in the A/UX 3.1 sh.
    cat << EOF
Usage: configure [options] [host]
Options: [defaults in brackets after descriptions]
Configuration:
  --cache-file=FILE       cache test results in FILE
  --help                  print this message
  --no-create             do not create output files
  --quiet, --silent       do not print \`checking...' messages
  --version               print the version of autoconf that created configure
Directory and file names:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [same as prefix]
  --bindir=DIR            user executables in DIR [EPREFIX/bin]
  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
  --datadir=DIR           read-only architecture-independent data in DIR
                          [PREFIX/share]
  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
                          [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
  --includedir=DIR        C header files in DIR [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
  --infodir=DIR           info documentation in DIR [PREFIX/info]
  --mandir=DIR            man documentation in DIR [PREFIX/man]
  --srcdir=DIR            find the sources in DIR [configure dir or ..]
  --program-prefix=PREFIX prepend PREFIX to installed program names
  --program-suffix=SUFFIX append SUFFIX to installed program names
  --program-transform-name=PROGRAM
                          run sed PROGRAM on installed program names
EOF
    cat << EOF
Host type:
  --build=BUILD           configure for building on BUILD [BUILD=HOST]
  --host=HOST             configure for HOST [guessed]
  --target=TARGET         configure for TARGET [TARGET=HOST]
Features and packages:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --x-includes=DIR        X include files are in DIR
  --x-libraries=DIR       X library files are in DIR
EOF
    if test -n "$ac_help"; then
      echo "--enable and --with options recognized:$ac_help"
    fi
    exit 0 ;;

  -host | --host | --hos | --ho)
    ac_prev=host ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host="$ac_optarg" ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir="$ac_optarg" ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir="$ac_optarg" ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir="$ac_optarg" ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir="$ac_optarg" ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst \
  | --locals | --local | --loca | --loc | --lo)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
    localstatedir="$ac_optarg" ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir="$ac_optarg" ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir="$ac_optarg" ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix="$ac_optarg" ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix="$ac_optarg" ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix="$ac_optarg" ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name="$ac_optarg" ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir="$ac_optarg" ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir="$ac_optarg" ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site="$ac_optarg" ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir="$ac_optarg" ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir="$ac_optarg" ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target="$ac_optarg" ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers)
    echo "configure generated by autoconf version 2.13"
    exit 0 ;;

  -with-* | --with-*)
    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "with_${ac_package}='$ac_optarg'" ;;

  -without-* | --without-*)
    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    eval "with_${ac_package}=no" ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes="$ac_optarg" ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries="$ac_optarg" ;;

  -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
    ;;

  *)
    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
      echo "configure: warning: $ac_option: invalid host type" 1>&2
    fi
    if test "x$nonopt" != xNONE; then
      { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
    fi
    nonopt="$ac_option"
    ;;

  esac
done

if test -n "$ac_prev"; then
  { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
fi

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

# File descriptor usage:
# 0 standard input
# 1 file creation
# 2 errors and warnings
# 3 some systems may open it to /dev/tty
# 4 used on the Kubota Titan
# 6 checking for... messages and results
# 5 compiler messages saved in config.log
if test "$silent" = yes; then
  exec 6>/dev/null
else
  exec 6>&1
fi
exec 5>./config.log

echo "\
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.
" 1>&5

# Strip out --no-create and --no-recursion so they do not pile up.
# Also quote any args containing shell metacharacters.
ac_configure_args=
for ac_arg
do
  case "$ac_arg" in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
  ac_configure_args="$ac_configure_args '$ac_arg'" ;;
  *) ac_configure_args="$ac_configure_args $ac_arg" ;;
  esac
done

# NLS nuisances.
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo > confdefs.h

# A filename unique to this package, relative to the directory that
# configure is in, which we can look for to find out if srcdir is correct.
ac_unique_file=

# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then its parent.
  ac_prog=$0
  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
  srcdir=$ac_confdir
  if test ! -r $srcdir/$ac_unique_file; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r $srcdir/$ac_unique_file; then
  if test "$ac_srcdir_defaulted" = yes; then
    { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
  else
    { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
  fi
fi
srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`

# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    echo "loading site script $ac_site_file"
    . "$ac_site_file"
  fi
done


ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

ac_exeext=
ac_objext=o
if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
  # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
    ac_n= ac_c='
' ac_t='	'
  else
    ac_n=-n ac_c= ac_t=
  fi
else
  ac_n= ac_c='\c' ac_t=
fi


ac_aux_dir=
for ac_dir in . $srcdir/.; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { echo "configure: error: can not find install-sh or install.sh in . $srcdir/." 1>&2; exit 1; }
fi
ac_config_guess=$ac_aux_dir/config.guess
ac_config_sub=$ac_aux_dir/config.sub
ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.

 
# Check whether --enable-echo or --disable-echo was given.
if test "${enable_echo+set}" = set; then
  enableval="$enable_echo"
  set -x
fi

 
# Check whether --enable-softerror or --disable-softerror was given.
if test "${enable_softerror+set}" = set; then
  enableval="$enable_softerror"
  :
else
  enable_softerror=${slog2_enable_softerror:-no}
fi


# Check whether --enable-swingcheck or --disable-swingcheck was given.
if test "${enable_swingcheck+set}" = set; then
  enableval="$enable_swingcheck"
  :
else
  enable_swingcheck=yes
fi

 
# Check whether --enable-jdb or --disable-jdb was given.
if test "${enable_jdb+set}" = set; then
  enableval="$enable_jdb"
  :
else
  enable_jdb=no
fi


# Find the home directory if not specified
if test "X$srcdir" != "X." -a -s $srcdir/bin/jumpshot.in ; then
    top_srcdir_abs=$srcdir
else
    
echo $ac_n "checking for current directory name""... $ac_c" 1>&6
echo "configure:635: checking for current directory name" >&5
top_srcdir_abs=$PWD
if test "${top_srcdir_abs}" != "" -a -d "${top_srcdir_abs}" ; then 
    if test -r ${top_srcdir_abs}/.foo$$ ; then
        /bin/rm -f ${top_srcdir_abs}/.foo$$
	/bin/rm -f .foo$$
    fi
    if test -r ${top_srcdir_abs}/.foo$$ -o -r .foo$$ ; then
	top_srcdir_abs=
    else
	echo "test" > ${top_srcdir_abs}/.foo$$
	if test ! -r .foo$$ ; then
            /bin/rm -f ${top_srcdir_abs}/.foo$$
	    top_srcdir_abs=
        else
 	    /bin/rm -f ${top_srcdir_abs}/.foo$$
	fi
    fi
fi
if test "${top_srcdir_abs}" = "" ; then
    top_srcdir_abs=`pwd | sed -e 's%/tmp_mnt/%/%g'`
fi
if test ! -r ${top_srcdir_abs}/./bin/jumpshot.in ; then
        top_srcdir_abs=`pwd`
    if test ! -r ${top_srcdir_abs}/./bin/jumpshot.in ; then
	print_error "Cannot determine the root directory!" 
        exit 1
    fi
    top_srcdir_abs=`pwd | sed -e 's%/tmp_mnt/%/%g'`
    if test ! -d ${top_srcdir_abs} ; then 
        print_error "Warning: your default path uses the automounter; this may"
        print_error "cause some problems if you use other NFS-connected systems."
        top_srcdir_abs=`pwd`
    fi
fi
if test -z "${top_srcdir_abs}" ; then
    top_srcdir_abs=`pwd | sed -e 's%/tmp_mnt/%/%g'`
    if test ! -d ${top_srcdir_abs} ; then 
        print_error "Warning: your default path uses the automounter; this may"
        print_error "cause some problems if you use other NFS-connected systems."
        top_srcdir_abs=`pwd`
    fi
fi
echo "$ac_t""${top_srcdir_abs}" 1>&6

fi
 
if test -z "$top_srcdir_abs" ; then
    top_srcdir_abs=`pwd`
fi

if test ! -d "$top_srcdir_abs" ; then
    
if test "$enable_softerror" = "yes" ; then
    echo "configure: warning:  *** $top_srcdir_abs is not a valid directory - cannot continue " 1>&2
    exit 0
else
    { echo "configure: error:  *** $top_srcdir_abs is not a valid directory - cannot continue " 1>&2; exit 1; }
fi

fi



# Determine this package's name based on its directory name
tmpname="`echo $top_srcdir_abs | sed -e 's%\(.*\)/\([^/]*\)%\2%'`"
pkgname="`echo $tmpname | sed -e 'y%abcdefghijklmnopqrstuvwxyz/%ABCDEFGHIJKLMNOPQRSTUVWXYZ_%'`"
if test "x$pkgname" = "x" ; then
    pkgname="SLOG-2/Jumpshot-4"
fi
 
echo "Configuring $pkgname with $ac_configure_args"
#
# Cannot use JAVA_HOME here in this configure.in.
# Because JAVA_HOME is used in Blackdown's .java_wrapper in jdk117_v3
# Using JAVA_HOME here would mistakenly set some variable in .java_wrapper
# when .java_wrapper is invoked.  i.e. causes mysterious error in tests.
# Check whether --with-java or --without-java was given.
if test "${with_java+set}" = set; then
  withval="$with_java"
  JRE_TOPDIR=$withval
else
  JRE_TOPDIR=""
fi

 
# Check whether --with-java2 or --without-java2 was given.
if test "${with_java2+set}" = set; then
  withval="$with_java2"
  JRE_TOPDIR=$withval
fi


# Check whether --with-jvmflags or --without-jvmflags was given.
if test "${with_jvmflags+set}" = set; then
  withval="$with_jvmflags"
  JVMFLAGS="$withval"
fi


# Check whether --with-trace_libdir or --without-trace_libdir was given.
if test "${with_trace_libdir+set}" = set; then
  withval="$with_trace_libdir"
  TRACE_LIBDIR=$withval
fi


# Check whether --with-trace_name or --without-trace_name was given.
if test "${with_trace_name+set}" = set; then
  withval="$with_trace_name"
  TRACE_NAME=$withval
fi


# Fixup for make
MAKE=${MAKE:-make}

echo $ac_n "checking gnumake""... $ac_c" 1>&6
echo "configure:753: checking gnumake" >&5
/bin/rm -f conftest
cat > conftest <<.
SHELL=/bin/sh
ALL:
	@(dir=`pwd` ; cd .. ; \$(MAKE) -f \$\$dir/conftest SUB)
SUB:
	@echo "success"
.
str=`$MAKE -f conftest 2>&1`
if test "$str" != "success" ; then
    str=`$MAKE --no-print-directory -f conftest 2>&1`
    if test "$str" = "success" ; then
        MAKE="$MAKE --no-print-directory"
	echo "$ac_t""yes using --no-print-directory" 1>&6
    else
	echo "$ac_t""no" 1>&6
    fi
else
    echo "$ac_t""no" 1>&6
fi
/bin/rm -f conftest
str=""


echo $ac_n "checking BSD 4.4 make""... $ac_c" 1>&6
echo "configure:779: checking BSD 4.4 make" >&5
/bin/rm -f conftest
cat > conftest <<.
ALL:
	@echo "success"
.
cat > conftest1 <<.
include conftest
.
str=`$MAKE -f conftest1 2>&1`
/bin/rm -f conftest conftest1
if test "$str" != "success" ; then
    echo "$ac_t""Found BSD 4.4 so-called make" 1>&6
    echo "The BSD 4.4 make is INCOMPATIBLE with all other makes."
    echo "Using this so-called make may cause problems when building programs."
    echo "You should consider using gnumake instead."
    
else
    echo "$ac_t""no - whew" 1>&6
fi
str=""


echo $ac_n "checking OSF V3 make""... $ac_c" 1>&6
echo "configure:803: checking OSF V3 make" >&5
/bin/rm -f conftest
cat > conftest <<.
SHELL=/bin/sh
ALL:
	@# This is a valid comment!
	@echo "success"
.
str=`$MAKE -f conftest 2>&1`
/bin/rm -f conftest 
if test "$str" != "success" ; then
    echo "$ac_t""Found OSF V3 make" 1>&6
    echo "The OSF V3 make does not allow comments in target code."
    echo "Using this make may cause problems when building programs."
    echo "You should consider using gnumake instead."
    
else
    echo "$ac_t""no" 1>&6
fi
str=""



echo $ac_n "checking for virtual path format""... $ac_c" 1>&6
echo "configure:827: checking for virtual path format" >&5
rm -rf conftest*
mkdir conftestdir
cat >conftestdir/a.c <<EOF
A sample file
EOF
cat > conftest <<EOF
all: a.o
VPATH=.:conftestdir
.c.o:
	@echo \$<
EOF
ac_out=`$MAKE -f conftest 2>&1 | grep 'conftestdir/a.c'`
if test -n "$ac_out" ; then 
    echo "$ac_t""VPATH" 1>&6
    VPATH='VPATH=.:$(srcdir)'
else
    rm -f conftest
    cat > conftest <<EOF
all: a.o
.PATH: . conftestdir
.c.o:
	@echo \$<
EOF
    ac_out=`$MAKE -f conftest 2>&1 | grep 'conftestdir/a.c'`
    if test -n "$ac_out" ; then 
        echo "$ac_t"".PATH" 1>&6
        VPATH='.PATH: . $(srcdir)'
    else
	echo "$ac_t""neither VPATH nor .PATH works" 1>&6
    fi
fi
rm -rf conftest*

# If we are relying on VPATH and no VPATH is set, then we must exit
if test ! -s bin/jumpshot.in -a -z "$VPATH" ; then
    { echo "configure: error: No virtual MAKE path command found.
	You may need to set your make command.
	The GNU make (sometimes available as gnumake) can be used." 1>&2; exit 1; }
fi

 
CPRP=cp
MKDIR=mkdir
RM="/bin/rm -f"
MV="/bin/mv -f"


# Check if --without-java is specified
if test "$JRE_TOPDIR" = "no" ; then
    
if test "$enable_softerror" = "yes" ; then
    echo "configure: warning:  --without-java is specified, exit! " 1>&2
    exit 0
else
    { echo "configure: error:  --without-java is specified, exit! " 1>&2; exit 1; }
fi

fi

if test $enable_jdb = "yes" ; then
    pac_JVM=jdb
#   Assume jdb is working
    is_jvm_working=yes
else
    pac_JVM=java

    
echo $ac_n "checking if CLASSPATH is set""... $ac_c" 1>&6
echo "configure:896: checking if CLASSPATH is set" >&5
if test "x$CLASSPATH" != "x" ; then
    echo "$ac_t""yes" 1>&6
    echo $ac_n "checking if CLASSPATH contains current path""... $ac_c" 1>&6
echo "configure:900: checking if CLASSPATH contains current path" >&5
    IFS="${IFS=   }"; jac_saved_ifs="$IFS"; IFS=":"
    jac_hasCurrPath=no
    for path_elem in $CLASSPATH ; do
        if test "X$path_elem" = "X." ; then
            jac_hasCurrPath=yes
        fi
    done
    IFS="$jac_saved_ifs"
    if test "$jac_hasCurrPath" = "no" ; then
        echo "$ac_t""no, prepend . to CLASSPATH" 1>&6
        CLASSPATH=".:$CLASSPATH"
        export CLASSPATH
    else
        echo "$ac_t""yes" 1>&6
    fi
else
    echo "$ac_t""no, good to go" 1>&6
fi

    is_jvm_working=no
    if test "x$JRE_TOPDIR" != "x" ; then
        JVM="$JRE_TOPDIR/bin/$pac_JVM"
        echo $ac_n "checking if $JVM exists""... $ac_c" 1>&6
echo "configure:924: checking if $JVM exists" >&5
        if test -x "$JVM" ; then
            echo "$ac_t""yes" 1>&6
            jac_java_working=yes
        else
            echo "$ac_t""no" 1>&6
            jac_java_working=no
        fi
        if test "$jac_java_working" = "yes" ; then
            echo $ac_n "checking if $JVM runs simple java class""... $ac_c" 1>&6
echo "configure:934: checking if $JVM runs simple java class" >&5
            
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple.class | sed -e 's%.*/\([^/]*\)$%\1%'`"
jac_baseclass="`echo $jac_basename | sed -e 's%.class$%%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple.class" ; then
        $jac_CPRP $srcdir/ac_javatest/simple.class .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple.class does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} ${jac_baseclass} 1>&5'
    if { (eval echo configure:949: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            if test "$jac_java_working" = "yes" ; then
                echo "$ac_t""yes" 1>&6
            else
                echo "$ac_t""no" 1>&6
            fi
        fi
        if test "$jac_java_working" = "yes" ; then
            echo $ac_n "checking if $JVM runs simple jar file""... $ac_c" 1>&6
echo "configure:963: checking if $JVM runs simple jar file" >&5
            
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple.jar | sed -e 's%.*/\([^/]*\)$%\1%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple.jar" ; then
        $jac_CPRP $srcdir/ac_javatest/simple.jar .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple.jar does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} -jar ${jac_basename} 1>&5'
    if { (eval echo configure:977: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            if test "$jac_java_working" = "yes" ; then
                echo "$ac_t""yes" 1>&6
            else
                echo "$ac_t""no" 1>&6
            fi
        fi
        if test "$jac_java_working" = "yes" \
             -a "$enable_swingcheck" = "yes" ; then
            echo $ac_n "checking if $JVM runs simple Swing class""... $ac_c" 1>&6
echo "configure:992: checking if $JVM runs simple Swing class" >&5
            
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple_swing.class | sed -e 's%.*/\([^/]*\)$%\1%'`"
jac_baseclass="`echo $jac_basename | sed -e 's%.class$%%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple_swing.class" ; then
        $jac_CPRP $srcdir/ac_javatest/simple_swing.class .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple_swing.class does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} ${jac_baseclass} 1>&5'
    if { (eval echo configure:1007: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            if test "$jac_java_working" = "yes" ; then
                echo "$ac_t""yes" 1>&6
            else
                echo "$ac_t""no" 1>&6
            fi
        fi
        if test "$jac_java_working" = "yes" \
              -a "$enable_swingcheck" = "yes" ; then
            echo $ac_n "checking if $JVM runs simple Swing jar file""... $ac_c" 1>&6
echo "configure:1022: checking if $JVM runs simple Swing jar file" >&5
            
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple_swing.jar | sed -e 's%.*/\([^/]*\)$%\1%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple_swing.jar" ; then
        $jac_CPRP $srcdir/ac_javatest/simple_swing.jar .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple_swing.jar does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} -jar ${jac_basename} 1>&5'
    if { (eval echo configure:1036: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            if test "$jac_java_working" = "yes" ; then
                echo "$ac_t""yes" 1>&6
            else
                echo "$ac_t""no" 1>&6
            fi
        fi
        if test "$jac_java_working" = "yes" ; then
            is_jvm_working=yes
        else
            is_jvm_working=no
        fi
    fi
#
    if test "$is_jvm_working" = "no" ; then
        
# Make sure we can run config.sub.
if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
fi

echo $ac_n "checking host system type""... $ac_c" 1>&6
echo "configure:1063: checking host system type" >&5

host_alias=$host
case "$host_alias" in
NONE)
  case $nonopt in
  NONE)
    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
    else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
    fi ;;
  *) host_alias=$nonopt ;;
  esac ;;
esac

host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$host" 1>&6



echo $ac_n "checking for $pac_JVM in user's PATH""... $ac_c" 1>&6
echo "configure:1086: checking for $pac_JVM in user's PATH" >&5
if test -n "$PATH" ; then
    JVM=""
            jac_PATH=`echo $PATH | sed 's/:/ /g'`
    for dir in ${jac_PATH} ; do
        if test -d $dir -a -x "$dir/$pac_JVM" ; then
            JVM="$dir/$pac_JVM"
            # Not all releases work.  Try a simple program
            if test -n "$JVM" ; then
                echo "$ac_t""found $JVM" 1>&6
                
                    echo $ac_n "checking if $JVM works""... $ac_c" 1>&6
echo "configure:1098: checking if $JVM works" >&5
                    
            
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple.class | sed -e 's%.*/\([^/]*\)$%\1%'`"
jac_baseclass="`echo $jac_basename | sed -e 's%.class$%%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple.class" ; then
        $jac_CPRP $srcdir/ac_javatest/simple.class .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple.class does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} ${jac_baseclass} 1>&5'
    if { (eval echo configure:1114: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            if test "$jac_java_working" = "yes" ; then
                echo "$ac_t""yes" 1>&6
                echo $ac_n "checking if $JVM runs simple jar file""... $ac_c" 1>&6
echo "configure:1123: checking if $JVM runs simple jar file" >&5
                
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple.jar | sed -e 's%.*/\([^/]*\)$%\1%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple.jar" ; then
        $jac_CPRP $srcdir/ac_javatest/simple.jar .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple.jar does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} -jar ${jac_basename} 1>&5'
    if { (eval echo configure:1137: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            fi
            if test "$jac_java_working" = "yes" \
                 -a "$enable_swingcheck" = "yes" ; then
                echo "$ac_t""yes" 1>&6
                echo $ac_n "checking if $JVM runs simple Swing class""... $ac_c" 1>&6
echo "configure:1148: checking if $JVM runs simple Swing class" >&5
                
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple_swing.class | sed -e 's%.*/\([^/]*\)$%\1%'`"
jac_baseclass="`echo $jac_basename | sed -e 's%.class$%%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple_swing.class" ; then
        $jac_CPRP $srcdir/ac_javatest/simple_swing.class .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple_swing.class does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} ${jac_baseclass} 1>&5'
    if { (eval echo configure:1163: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            fi
            if test "$jac_java_working" = "yes" \
                 -a "$enable_swingcheck" = "yes" ; then
                echo "$ac_t""yes" 1>&6
                echo $ac_n "checking if $JVM runs simple Swing jar file""... $ac_c" 1>&6
echo "configure:1174: checking if $JVM runs simple Swing jar file" >&5
                
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple_swing.jar | sed -e 's%.*/\([^/]*\)$%\1%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple_swing.jar" ; then
        $jac_CPRP $srcdir/ac_javatest/simple_swing.jar .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple_swing.jar does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} -jar ${jac_basename} 1>&5'
    if { (eval echo configure:1188: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            fi
            if test "$jac_java_working" = "yes" ; then
                jac_prog_working=yes
            else
                jac_prog_working=no
            fi
        
                    if test "$jac_prog_working" = "yes" ; then
                        echo "$ac_t""yes" 1>&6
                        break
                    else
                        echo "$ac_t""no" 1>&6
                        echo $ac_n "checking for working $pac_JVM in user's PATH""... $ac_c" 1>&6
echo "configure:1207: checking for working $pac_JVM in user's PATH" >&5
                        JVM=""
                    fi
                
            fi
        fi
    done
fi
if test -z "$JVM" ; then
    echo "$ac_t""not found" 1>&6
fi


if test "x$JVM" = "x" ; then
    
JVM=""
# Determine the system type

subdir=""
case "$host" in
    mips-sgi-irix*)
        if test -d "/software/irix" ; then
            subdir="irix"
        elif test -d "/software/irix-6" ; then
            subdir="irix-6"
        fi
        ;;
    *linux*)
        if test -d "/software/linux" ; then
            subdir="linux"
        fi
        ;;
    *solaris*)
        if test -d "/software/solaris" ; then
            subdir="solaris"
        elif test -d "/software/solaris-2" ; then
            subdir="solaris-2"
        fi
        ;;
    *sun4*)
        if test -d "/software/sun4" ; then
            subdir="sun4"
        fi
        ;;
    *aix*)
        if test -d "/software/aix-4" ; then
            subdir="aix-4"
        fi
        ;;
    *rs6000*)
        if test -d "/software/aix-4" ; then
            subdir="aix-4"
        fi
        ;;
    *freebsd*)
        if test -d "/software/freebsd" ; then
            subdir="freebsd"
   	    fi
esac
#
if test -z "$subdir" ; then
    if test -d "/software/common" ; then
       subdir="common"
    fi
fi
#
echo $ac_n "checking for $pac_JVM in known locations""... $ac_c" 1>&6
echo "configure:1274: checking for $pac_JVM in known locations" >&5
reverse_dirs=""
for dir in \
    /usr \
    /usr/jdk* \
    /usr/j2sdk* \
    /usr/java* \
    /usr/java/jdk* \
    /usr/java/j2sdk* \
    /usr/local \
    /usr/local/java* \
    /usr/local/jdk* \
    /usr/local/j2sdk* \
    /usr/share \
    /usr/share/java* \
    /usr/share/jdk* \
    /usr/share/j2sdk* \
    /usr/contrib \
    /usr/contrib/java* \
    /usr/contrib/jdk* \
    /usr/contrib/j2sdk* \
    $HOME/java* \
    $HOME/jdk* \
    $HOME/j2sdk* \
    /opt/jdk* \
    /opt/j2sdk* \
    /opt/java* \
    /opt/local \
    /opt/local/jdk* \
    /opt/local/j2sdk* \
    /opt/local/java* \
    /Tools/jdk* \
    /Tools/j2sdk* \
    /software/$subdir/apps/packages/java* \
    /software/$subdir/apps/packages/jdk* \
    /software/$subdir/apps/packages/j2sdk* \
    /software/$subdir/com/packages/java* \
    /software/$subdir/com/packages/jdk* \
    /software/$subdir/com/packages/j2sdk* \
    /soft/apps/packages/java* \
    /soft/apps/packages/jdk* \
    /soft/apps/packages/j2sdk* \
    /soft/com/packages/java* \
    /soft/com/packages/jdk* \
    /soft/com/packages/j2sdk* \
    /local/encap/java* \
    /local/encap/j2sdk* \
    /local/encap/jdk* ; do
    if test -d $dir ; then
        reverse_dirs="$dir $reverse_dirs"
    fi
done
for dir in $reverse_dirs ; do
    if test -d $dir ; then
        case "$dir" in
            *java-workshop* )
                if test -d "$dir/JDK/bin" ; then
                    if test -x "$dir/JDK/bin/$pac_JVM" ; then
                        JVM="$dir/JDK/bin/$pac_JVM"
                    fi
                fi
                ;;
            *java* | *jdk* | *j2sdk* )
                if test -x "$dir/bin/$pac_JVM" ; then
                    JVM="$dir/bin/$pac_JVM"
                fi
                ;;
        esac
        # Not all releases work.  Try a simple program
        if test -n "$JVM" ; then
            echo "$ac_t""found $JVM" 1>&6
            
                echo $ac_n "checking if $JVM works""... $ac_c" 1>&6
echo "configure:1347: checking if $JVM works" >&5
                
            
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple.class | sed -e 's%.*/\([^/]*\)$%\1%'`"
jac_baseclass="`echo $jac_basename | sed -e 's%.class$%%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple.class" ; then
        $jac_CPRP $srcdir/ac_javatest/simple.class .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple.class does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} ${jac_baseclass} 1>&5'
    if { (eval echo configure:1363: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            if test "$jac_java_working" = "yes" ; then
                echo "$ac_t""yes" 1>&6
                echo $ac_n "checking if $JVM runs simple jar file""... $ac_c" 1>&6
echo "configure:1372: checking if $JVM runs simple jar file" >&5
                
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple.jar | sed -e 's%.*/\([^/]*\)$%\1%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple.jar" ; then
        $jac_CPRP $srcdir/ac_javatest/simple.jar .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple.jar does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} -jar ${jac_basename} 1>&5'
    if { (eval echo configure:1386: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            fi
            if test "$jac_java_working" = "yes" \
                 -a "$enable_swingcheck" = "yes" ; then
                echo "$ac_t""yes" 1>&6
                echo $ac_n "checking if $JVM runs simple Swing class""... $ac_c" 1>&6
echo "configure:1397: checking if $JVM runs simple Swing class" >&5
                
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple_swing.class | sed -e 's%.*/\([^/]*\)$%\1%'`"
jac_baseclass="`echo $jac_basename | sed -e 's%.class$%%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple_swing.class" ; then
        $jac_CPRP $srcdir/ac_javatest/simple_swing.class .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple_swing.class does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} ${jac_baseclass} 1>&5'
    if { (eval echo configure:1412: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            fi
            if test "$jac_java_working" = "yes" \
                 -a "$enable_swingcheck" = "yes" ; then
                echo "$ac_t""yes" 1>&6
                echo $ac_n "checking if $JVM runs simple Swing jar file""... $ac_c" 1>&6
echo "configure:1423: checking if $JVM runs simple Swing jar file" >&5
                
jac_CPRP=cp
jac_JVM="$JVM"
jac_JVMFLAGS="$JVMFLAGS"
jac_basename="`echo ac_javatest/simple_swing.jar | sed -e 's%.*/\([^/]*\)$%\1%'`"
if test ! -f "$jac_basename" ; then
    if test -f "$srcdir/ac_javatest/simple_swing.jar" ; then
        $jac_CPRP $srcdir/ac_javatest/simple_swing.jar .
    else
        { echo "configure: error: $srcdir/ac_javatest/simple_swing.jar does NOT exist!" 1>&2; exit 1; }
    fi
fi
    jac_command='${jac_JVM} ${jac_JVMFLAGS} -jar ${jac_basename} 1>&5'
    if { (eval echo configure:1437: \"$jac_command\") 1>&5; (eval $jac_command) 2>&5; } ; then
        jac_java_working=yes
    else
        jac_java_working=no
    fi

            fi
            if test "$jac_java_working" = "yes" ; then
                jac_prog_working=yes
            else
                jac_prog_working=no
            fi
        
                if test "$jac_prog_working" = "yes" ; then
                    echo "$ac_t""yes" 1>&6
                    break
                else
                    echo "$ac_t""no" 1>&6
                    echo $ac_n "checking for working $pac_JVM in known locations""... $ac_c" 1>&6
echo "configure:1456: checking for working $pac_JVM in known locations" >&5
                    JVM=""
                fi
            
        fi
    fi
done
if test -z "$JVM" ; then
    echo "$ac_t""not found" 1>&6
fi

    
fi

#       If JVM still hasn't been found, we need to abort!
        if test "x$JVM" = "x" ; then
            
if test "$enable_softerror" = "yes" ; then
    echo "configure: warning:  No Java Virtual Machine can be found anywhere! " 1>&2
    exit 0
else
    { echo "configure: error:  No Java Virtual Machine can be found anywhere! " 1>&2; exit 1; }
fi

        fi
        is_jvm_working=yes
    fi
fi

# CHECK the version of Java used 
# Filter out the version of JDK that causes problem
if test "$enable_jdb" = "no" ; then
    echo $ac_n "checking for Java version""... $ac_c" 1>&6
echo "configure:1489: checking for Java version" >&5
    VERSION=`$JVM -fullversion 2>&1`
    case "$VERSION" in
	*1.0.*)
            echo "$ac_t""$VERSION, i.e. the oldest Java" 1>&6
            echo "configure: warning: Java $VERSION is too old to be used with $pkgname !" 1>&2
            ;;
	*1.1.*)
            echo "$ac_t""$VERSION, i.e. Java 1 SDK" 1>&6
            echo "configure: warning: Java $VERSION is too old to be used with $pkgname !" 1>&2
            ;;
	*)
            echo "$ac_t""$VERSION, i.e. Java 2 SDK" 1>&6
            ;;
    esac
fi

if test "$is_jvm_working" = "no" ; then
    
if test "$enable_softerror" = "yes" ; then
    echo "configure: warning:  $pkgname can be used with Java 2 Run Time Environment,
	i.e. j2sdk 1.2.2 or newer. " 1>&2
    exit 0
else
    { echo "configure: error:  $pkgname can be used with Java 2 Run Time Environment,
	i.e. j2sdk 1.2.2 or newer. " 1>&2; exit 1; }
fi

fi





echo $ac_n "checking for cygpath""... $ac_c" 1>&6
echo "configure:1524: checking for cygpath" >&5
jac_hasProg=no
IFS="${IFS=   }"; pac_saved_ifs="$IFS"; IFS=":"
for path_elem in $PATH ; do
    if test -d $path_elem -a -x "$path_elem/cygpath" ; then
        jac_hasProg=yes
        break
    fi
done
IFS="$pac_saved_ifs"
if test "$jac_hasProg" = "yes" ; then
    JPATH_START="\`cygpath -w "
    JPATH_FINAL="\`"
    echo "$ac_t""yes" 1>&6
else
    JPATH_START=""
    JPATH_FINAL=""
    echo "$ac_t""no" 1>&6
fi




#
# Naming the various build directories, don't inherit them from environment
#
rootbuild_dir=`pwd`
for dir in lib bin doc etc share sbin logfiles ; do
    dirname=${dir}build_dir
    eval dirvalue=\$"$dirname"
    eval $dirname=$rootbuild_dir/$dir
done

# VPATH build: Set the libbuild_dir
if test ! -d $libbuild_dir -a -d $srcdir/lib ; then
    echo "creating $libbuild_dir from source"
    $CPRP -pr $srcdir/lib $libbuild_dir
fi


# VPATH: Set the binbuild_dir
if test ! -d $binbuild_dir ; then
    echo "creating directory $binbuild_dir"
    $MKDIR $binbuild_dir
fi


# VPATH build: Set the docbuild_dir
if test ! -d $docbuild_dir -a -d $srcdir/doc ; then
    echo "creating $docbuild_dir from source"
    $CPRP -pr $srcdir/doc $docbuild_dir
    $RM -rf $docbuild_dir/old
fi


# VPATH build: Set the etcbuild_dir
if test ! -d $etcbuild_dir -a -d $srcdir/etc ; then
    echo "creating $etcbuild_dir from source"
    $CPRP -pr $srcdir/etc $etcbuild_dir
fi


# VPATH build: Set the sharebuild_dir
if test ! -d $sharebuild_dir -a -d $srcdir/share ; then
    echo "creating $sharebuild_dir from source"
    $CPRP -pr $srcdir/share $sharebuild_dir
fi




# VPATH build: Set the logfilesbuild_dir
if test ! -d $logfilesbuild_dir -a -d $srcdir/logfiles ; then
    echo "creating $logfilesbuild_dir from source"
    $CPRP -pr $srcdir/logfiles $logfilesbuild_dir
fi



# Options to disselect individual subpackage
# Check whether --enable-build or --disable-build was given.
if test "${enable_build+set}" = set; then
  enableval="$enable_build"
  :
else
  enable_build=${slog2_enable_build:-yes} 
fi


# Check whether --enable-source or --disable-source was given.
if test "${enable_source+set}" = set; then
  enableval="$enable_source"
  :
else
  enable_source=${slog2_enable_source:-yes} 
fi


# Check whether --enable-sample or --disable-sample was given.
if test "${enable_sample+set}" = set; then
  enableval="$enable_sample"
  :
else
  enable_sample=${slog2_enable_sample:-yes} 
fi


# Check whether --enable-rlog or --disable-rlog was given.
if test "${enable_rlog+set}" = set; then
  enableval="$enable_rlog"
  :
else
  enable_rlog=${slog2_enable_rlog:-yes} 
fi


if test "$enable_build" = "no" ; then
    enable_source=no;
    enable_sample=no;
    enable_rlog=no;
fi

# The XXX in XXX_dirname below must match with AC_ARG_ENABLE( XXX, .. ) above
source_dirname="src"
sample_dirname="trace_sample"
rlog_dirname="trace_rlog"

trial_pkgs="source sample rlog"

# Enable softerror for all subpackages,
# i.e. use AC_MSG_WARN instead of AC_MSG_ERROR
slog2_enable_softerror=yes
export slog2_enable_softerror
PKGS=""
selected_pkgs=""
for pkg in $trial_pkgs ; do
    dirname=${pkg}_dirname
    eval dirvalue=\$"$dirname"
    flagname=enable_${pkg}
    eval flagvalue=\$"$flagname"
    if test "$flagvalue" = "yes" -a -s $srcdir/$dirvalue/configure ; then
        PKGS="$PKGS $dirvalue"
        selected_pkgs="$selected_pkgs $pkg"
    fi
done
subdirs="$PKGS"




# Define bindir's executables, and pass them down to sbindir's install-package
BASIC_PGMS="clogprint clogTOslog2 clog2print clog2TOslog2 slog2navigator slog2print logconvertor jumpshot"
TRACE_PGMS="traceprint traceTOslog2"

if test "x$TRACE_LIBDIR" != "x" ; then
    echo $ac_n "checking for libTraceInput.so and TraceInput.dll""... $ac_c" 1>&6
echo "configure:1680: checking for libTraceInput.so and TraceInput.dll" >&5
    if test -f "$TRACE_LIBDIR/libTraceInput.so" \
         -o -f "$TRACE_LIBDIR/TraceInput.dll" ; then
        echo "$ac_t""yes" 1>&6
        
        has_tracelib=yes
    else
        echo "$ac_t""no" 1>&6
        has_tracelib=no
    fi
fi

PATH_EXEFILES="sbin/install-package"
EXTRA_PGMS=""
if test "$has_tracelib" = "yes" ; then
    for exefile in $BASIC_PGMS $TRACE_PGMS ; do
        PATH_EXEFILES="$PATH_EXEFILES bin/$exefile"
    done
#   define EXTRA_PGMS to be renamed TRACE_PGMS according to the TRACE_NAME
    if test "x$TRACE_NAME" != "x" -a "$TRACE_NAME" != "trace" ; then
        for oldpgm in $TRACE_PGMS ; do
            newpgm=$TRACE_NAME`echo $oldpgm | sed -e 's%trace%%'`
            EXTRA_PGMS="$EXTRA_PGMS $newpgm"
        done
    else
        EXTRA_PGMS="$TRACE_PGMS"
    fi
else
    for exefile in $BASIC_PGMS ; do
        PATH_EXEFILES="$PATH_EXEFILES bin/$exefile"
    done
fi

# EXEFILES is used in sbin/install-package.in, so EXEFILES needs updated names.
EXEFILES="$BASIC_PGMS $EXTRA_PGMS"


trap '' 1 2 15

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# Any assignment to VPATH causes Sun make to only execute
# the first set of double-colon rules, so remove it if not needed.
# If there is a colon in the path, we need to keep it.
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
fi

trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15

# Transform confdefs.h into DEFS.
# Protect against shell expansion while executing Makefile rules.
# Protect against Makefile macro expansion.
cat > conftest.defs <<\EOF
s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%-D\1=\2%g
s%[ 	`~#$^&*(){}\\|;'"<>?]%\\&%g
s%\[%\\&%g
s%\]%\\&%g
s%\$%$$%g
EOF
DEFS=`sed -f conftest.defs confdefs.h | tr '\012' ' '`
rm -f conftest.defs


# Without the "./", some shells look in PATH for config.status.
: ${CONFIG_STATUS=./config.status}

echo creating $CONFIG_STATUS
rm -f $CONFIG_STATUS
cat > $CONFIG_STATUS <<EOF
#! /bin/sh
# Generated automatically by configure.
# Run this file to recreate the current configuration.
# This directory was configured as follows,
# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
#
# $0 $ac_configure_args
#
# Compiler output produced by configure, useful for debugging
# configure, is in ./config.log if it exists.

ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
for ac_option
do
  case "\$ac_option" in
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
    echo "$CONFIG_STATUS generated by autoconf version 2.13"
    exit 0 ;;
  -help | --help | --hel | --he | --h)
    echo "\$ac_cs_usage"; exit 0 ;;
  *) echo "\$ac_cs_usage"; exit 1 ;;
  esac
done

ac_given_srcdir=$srcdir

trap 'rm -fr `echo "Makefile $PATH_EXEFILES" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
EOF
cat >> $CONFIG_STATUS <<EOF

# Protect against being on the right side of a sed subst in config.status.
sed 's/%@/@@/; s/@%/@@/; s/%g\$/@g/; /@g\$/s/[\\\\&%]/\\\\&/g;
 s/@@/%@/; s/@@/@%/; s/@g\$/%g/' > conftest.subs <<\\CEOF
$ac_vpsub
$extrasub
s%@SHELL@%$SHELL%g
s%@CFLAGS@%$CFLAGS%g
s%@CPPFLAGS@%$CPPFLAGS%g
s%@CXXFLAGS@%$CXXFLAGS%g
s%@FFLAGS@%$FFLAGS%g
s%@DEFS@%$DEFS%g
s%@LDFLAGS@%$LDFLAGS%g
s%@LIBS@%$LIBS%g
s%@exec_prefix@%$exec_prefix%g
s%@prefix@%$prefix%g
s%@program_transform_name@%$program_transform_name%g
s%@bindir@%$bindir%g
s%@sbindir@%$sbindir%g
s%@libexecdir@%$libexecdir%g
s%@datadir@%$datadir%g
s%@sysconfdir@%$sysconfdir%g
s%@sharedstatedir@%$sharedstatedir%g
s%@localstatedir@%$localstatedir%g
s%@libdir@%$libdir%g
s%@includedir@%$includedir%g
s%@oldincludedir@%$oldincludedir%g
s%@infodir@%$infodir%g
s%@mandir@%$mandir%g
s%@top_srcdir_abs@%$top_srcdir_abs%g
s%@VPATH@%$VPATH%g
s%@MAKE@%$MAKE%g
s%@RM@%$RM%g
s%@host@%$host%g
s%@host_alias@%$host_alias%g
s%@host_cpu@%$host_cpu%g
s%@host_vendor@%$host_vendor%g
s%@host_os@%$host_os%g
s%@JVMFLAGS@%$JVMFLAGS%g
s%@JVM@%$JVM%g
s%@JPATH_START@%$JPATH_START%g
s%@JPATH_FINAL@%$JPATH_FINAL%g
s%@libbuild_dir@%$libbuild_dir%g
s%@binbuild_dir@%$binbuild_dir%g
s%@docbuild_dir@%$docbuild_dir%g
s%@etcbuild_dir@%$etcbuild_dir%g
s%@sharebuild_dir@%$sharebuild_dir%g
s%@sbinbuild_dir@%$sbinbuild_dir%g
s%@logfilesbuild_dir@%$logfilesbuild_dir%g
s%@subdirs@%$subdirs%g
s%@PKGS@%$PKGS%g
s%@TRACE_LIBDIR@%$TRACE_LIBDIR%g
s%@EXEFILES@%$EXEFILES%g

CEOF
EOF

cat >> $CONFIG_STATUS <<\EOF

# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF

cat >> $CONFIG_STATUS <<EOF

CONFIG_FILES=\${CONFIG_FILES-"Makefile $PATH_EXEFILES"}
EOF
cat >> $CONFIG_STATUS <<\EOF
for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.

  # Remove last slash and all that follows it.  Not all systems have dirname.
  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    # The file is in a subdirectory.
    test ! -d "$ac_dir" && mkdir "$ac_dir"
    ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
    # A "../" for each directory in $ac_dir_suffix.
    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
  else
    ac_dir_suffix= ac_dots=
  fi

  case "$ac_given_srcdir" in
  .)  srcdir=.
      if test -z "$ac_dots"; then top_srcdir=.
      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
  /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
  *) # Relative path.
    srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
    top_srcdir="$ac_dots$ac_given_srcdir" ;;
  esac


  echo creating "$ac_file"
  rm -f "$ac_file"
  configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
  case "$ac_file" in
  *Makefile*) ac_comsub="1i\\
# $configure_input" ;;
  *) ac_comsub= ;;
  esac

  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  sed -e "$ac_comsub
s%@configure_input@%$configure_input%g
s%@srcdir@%$srcdir%g
s%@top_srcdir@%$top_srcdir%g
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
fi; done
rm -f conftest.s*

EOF
cat >> $CONFIG_STATUS <<EOF

EOF
cat >> $CONFIG_STATUS <<\EOF

exit 0
EOF
chmod +x $CONFIG_STATUS
rm -fr confdefs* $ac_clean_files
test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1

if test "$no_recursion" != yes; then

  # Remove --cache-file and --srcdir arguments so they do not pile up.
  ac_sub_configure_args=
  ac_prev=
  for ac_arg in $ac_configure_args; do
    if test -n "$ac_prev"; then
      ac_prev=
      continue
    fi
    case "$ac_arg" in
    -cache-file | --cache-file | --cache-fil | --cache-fi \
    | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
      ac_prev=cache_file ;;
    -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
    | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
      ;;
    -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
      ac_prev=srcdir ;;
    -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
      ;;
    *) ac_sub_configure_args="$ac_sub_configure_args $ac_arg" ;;
    esac
  done

  for ac_config_dir in $PKGS; do

    # Do not complain, so a configure script can configure whichever
    # parts of a large source tree are present.
    if test ! -d $srcdir/$ac_config_dir; then
      continue
    fi

    echo configuring in $ac_config_dir

    case "$srcdir" in
    .) ;;
    *)
      if test -d ./$ac_config_dir || mkdir ./$ac_config_dir; then :;
      else
        { echo "configure: error: can not create `pwd`/$ac_config_dir" 1>&2; exit 1; }
      fi
      ;;
    esac

    ac_popdir=`pwd`
    cd $ac_config_dir

      # A "../" for each directory in /$ac_config_dir.
      ac_dots=`echo $ac_config_dir|sed -e 's%^\./%%' -e 's%[^/]$%&/%' -e 's%[^/]*/%../%g'`

    case "$srcdir" in
    .) # No --srcdir option.  We are building in place.
      ac_sub_srcdir=$srcdir ;;
    /*) # Absolute path.
      ac_sub_srcdir=$srcdir/$ac_config_dir ;;
    *) # Relative path.
      ac_sub_srcdir=$ac_dots$srcdir/$ac_config_dir ;;
    esac

    # Check for guested configure; otherwise get Cygnus style configure.
    if test -f $ac_sub_srcdir/configure; then
      ac_sub_configure=$ac_sub_srcdir/configure
    elif test -f $ac_sub_srcdir/configure.in; then
      ac_sub_configure=$ac_configure
    else
      echo "configure: warning: no configuration information is in $ac_config_dir" 1>&2
      ac_sub_configure=
    fi

    # The recursion is here.
    if test -n "$ac_sub_configure"; then

      # Make the cache file name correct relative to the subdirectory.
      case "$cache_file" in
      /*) ac_sub_cache_file=$cache_file ;;
      *) # Relative path.
        ac_sub_cache_file="$ac_dots$cache_file" ;;
      esac

      echo "running ${CONFIG_SHELL-/bin/sh} $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_sub_srcdir"
      # The eval makes quoting arguments work.
      if eval ${CONFIG_SHELL-/bin/sh} $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_sub_srcdir
      then :
      else
        { echo "configure: error: $ac_sub_configure failed for $ac_config_dir" 1>&2; exit 1; }
      fi
    fi

    cd $ac_popdir
  done
fi


for script in $PATH_EXEFILES ; do
    if test -f "$script" ; then
        chmod a+x $script
    else
        
if test "$enable_softerror" = "yes" ; then
    echo "configure: warning:  $script is not a valid file - Make sure you have configured with a valid $pkgname source directory " 1>&2
    exit 0
else
    { echo "configure: error:  $script is not a valid file - Make sure you have configured with a valid $pkgname source directory " 1>&2; exit 1; }
fi

    fi
done

if test "$has_tracelib" = "yes" ; then
#   Rename all the scripts in bindir according to the TRACE_NAME
    if test "x$TRACE_NAME" != "x" -a "$TRACE_NAME" != "trace" ; then
        for oldpgm in $TRACE_PGMS ; do
            if test -x "bin/$oldpgm" ; then
                newpgm=$TRACE_NAME`echo $oldpgm | sed -e 's%trace%%'`
                $MV bin/$oldpgm bin/$newpgm
            fi
        done
    fi
fi

configured_pkgs=""
for pkg in $selected_pkgs ; do
    dirname=${pkg}_dirname
    eval dirvalue=\$"$dirname"
    if test -s $dirvalue/Makefile ; then
        configured_pkgs="$configured_pkgs \"$dirvalue\""
    fi
done

if test -z "$configured_pkgs" ; then
    echo "configure: warning: $pkgname: No sub-package has been configured" 1>&2
else
    echo "$ac_t""$pkgname: $configured_pkgs have been configured" 1>&6
fi
